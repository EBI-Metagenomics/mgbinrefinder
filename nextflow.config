manifest {
    nextflowVersion = '!>=22.10.1'
    mainScript = "main.nf"
}

params {
    outdir =        "bin_refinement"
    rename_bins =   true
    name = "test"
    checkm_ref_db = "/Users/kates/Desktop/EBI/MGnify/pipelines/mgbinrefinder/tests/resources/test.db"
    binner1 = "/Users/kates/Desktop/EBI/MGnify/pipelines/mgbinrefinder/tests/resources/binner1"
    binner2 = "/Users/kates/Desktop/EBI/MGnify/pipelines/mgbinrefinder/tests/resources/binner2"
    binner3 = "/Users/kates/Desktop/EBI/MGnify/pipelines/mgbinrefinder/tests/resources/binner3"
}

profiles {

    ebi {
        params {
            outdir = "bin_refinement"
            workdir = "/hps/nobackup/rdf/metagenomics/nextflow-jobstore/mgbinrefinder"
            singularity_cachedir = "/hps/nobackup/rdf/metagenomics/singularity_cache_nextflow/"
        }
        workDir = params.workdir
        executor {
            name = "lsf"
            queueSize = 200
        }
        process.cache = "lenient"
        includeConfig 'config/nf_codon.config'
        includeConfig 'config/nf_codon_dbs.config'
    }

    local {
         docker {
            enabled = true
            autoMounts = true
            registry = 'quay.io'
            userEmulation = true
            runOptions = "--platform linux/x86_64"
        }
        executor {
            name = "local"
            cpus = 2
        }
        includeConfig 'config/nf_local.config'
    }
}
