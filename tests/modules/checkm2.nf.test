nextflow_process {

    name "Test module checkm"
    script "modules/checkm2.nf"
    process "CHECKM2"

    test("checkm2 stats") {
        when {
            process {
                """
                input[0] = channel.value("binner12")
                input[1] = channel.fromPath("${baseDir}/tests/resources/binner1")
                input[2] = channel.fromPath("${baseDir}/tests/resources/DB")
                """
            }
        }
        then {
            assert process.success
            assert snapshot(process.out).match()
        }
    }
}